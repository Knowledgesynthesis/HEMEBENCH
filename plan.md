# **HEMEBENCH — OPTIMIZED MASTER PROMPT FOR APP GENERATION**  
A precision-built, domain-specific master prompt for generating a **mobile-first, offline-capable, dark-mode educational app** that unifies **blood smear morphology, CBC interpretation, coagulation analysis, flow cytometry, and molecular diagnostics** into a coherent hematopathology systems map.

---

# **MASTER PROMPT — HemeBench Educational App Generator (SPECIALIZED VERSION)**

## **Role & Mission**
You are a cross-functional product team (PM + Staff Engineer + Senior Instructional Designer + Hematopathology SME + Clinical Pathology SME + UX Writer + QA).  
Your mission: design an **interactive, high-fidelity hematopathology learning platform** that teaches:

**HemeBench: Blood Smear + Lab Correlator**  
—A unified Morphology ↔ Lab ↔ Molecular ↔ Clinical framework for analyzing hematologic disorders.

This app must:
- Support **all learner levels:** MS2 → MS4 → residency → fellowship → attending  
- Cover **all contexts:** board prep, smear interpretation, hematologic malignancy workup, coagulation analysis, molecular correlation, and management relevance  
- Maintain perfect **scientific consistency and physiology–pathophysiology alignment**  
- Be offline-ready, mobile-first, and visually optimized for dark mode  
- Help learners master **pattern recognition**, **case-based reasoning**, and **integrated diagnostics**  

Your output must be **hallucination-resistant** with no contradictory logic across morphology, CBC data, flow cytometry, coagulation physiology, or molecular pathways.

---

## **Inputs (Fill These)**
- **Primary Topic(s):**  
  Always centered on **HemeBench hematopathology concepts**, including:  
  - Peripheral smear morphology (normal → reactive → neoplastic)  
  - RBC/WBC/platelet morphology patterns  
  - CBC interpretation (RBC indices, trends, histograms)  
  - Coagulation pathways & lab interpretation (PT/PTT/D-dimer/fibrinogen)  
  - Flow cytometry (lineage markers, classic panels)  
  - Molecular hematopathology (JAK2, MPL, CALR, BCR-ABL, FLT3, NPM1, KIT, MYD88, etc.)  
  - 2×2 pattern recognition for anemias, leukemias, thrombocytopenias  
  - AP morphology ↔ CP lab ↔ clinical management integration  

- **Target Learner Levels:** {{LEVELS}}  
  - e.g., “MS3–MS4; pathology residents; hematopathology fellows; oncology/IM residents; CP attendings”

- **Learner Context:** {{CONTEXT}}  
  - e.g., “Exam prep; smear interpretation practice; leukemia classification; anemia differentials; coagulation workups; molecular result interpretation”

- **Learning Outcomes (SMART + Bloom):** {{LEARNING_OBJECTIVES}}  
  - e.g., “Describe smear morphology; differentiate reactive vs neoplastic processes; interpret flow/IHC; correlate molecular markers; classify leukemias; interpret coagulation patterns; integrate data into differential and management implications”

- **Constraints/Preferences:**  
  Always include:  
  - *Mobile-first; dark mode; no login; offline-ready; consistent morphology–lab integration*  

- **References/Standards:** {{REFERENCES}}  
  - e.g., “WHO Hematolymphoid Tumors Classification; CAP Hematopathology Guidelines; ASH Teaching Files; UpToDate-style references”

- **Brand/Voice:** {{VOICE_TONE}}  
  - e.g., “Concise, pattern-focused, high-yield but rigorous; Pathoma-like clarity with hematopathology depth”

- **Localization/Regional Lab Units:** {{LOCALE}} 

---

# **Required Deliverables (Produce All)**

---

## **1. Executive Summary**
- Explain the need for an app that unifies **smear morphology + CBC data + coagulation + flow + molecular**.  
- Provide 2–3 possible names and concise value proposition.  
- Define success metrics for learning and diagnostic reasoning.

---

## **2. Learner Personas & Use Cases**
Include personas such as:
- Medical students learning normal vs abnormal blood cells  
- Pathology/IM residents learning anemia/leukemia/thrombocytopenia differentials  
- Hemepath fellows evaluating flow cytometry and molecular panels  
- Clinicians correlating CBC trends with clinical decisions  
Use cases: exam prep, case-based workups, smear review, clotting disorder evaluation, leukemia classification, MPN/MDS molecular review.

---

## **3. Curriculum Map & Knowledge Graph**
Everything must connect **morphology ↔ CBC values ↔ coagulation physiology ↔ flow cytometry ↔ molecular drivers ↔ clinical decision-making**.

### **Prerequisites**
- Normal hematopoiesis  
- RBC/WBC/platelet physiology  
- Coagulation cascade basics  
- Flow cytometry principles  
- Molecular mutation mechanisms  

### **Core Modules**
1. **Normal Peripheral Smear Foundations**  
2. **RBC Disorders & Anemia Patterns**  
3. **WBC Disorders (Reactive → Neoplastic)**  
4. **Platelet Disorders (Quantitative & Qualitative)**  
5. **Flow Cytometry Essentials & Panels**  
6. **Coagulation Pathways & Lab Patterns**  
7. **Molecular Hematopathology Integration**  
8. **Integrated Case Engine (Smear + CBC + Coag + Flow + Molecular)**  
9. **2×2 Pattern Recognition Games (Anemia, Leukemia, Thrombocytopenia)**

For each module: lessons, micro-concepts, Bloom levels, prerequisites, and cross-links.

---

## **4. Interactives (HemeBench-Specific)**  
All interactives must connect **morphology → labs → flow → coag → molecular → clinical**.

### **Examples**
- **Smear Describer**  
  - Tap cells → highlight keywords (e.g., “tear-drop RBC,” “Auer rod,” “hypersegmented neutrophil”)  
  - Toggle: normal vs reactive vs neoplastic  
- **CBC Graph Explorer**  
  - Adjust Hb, MCV, RDW, WBC diff, platelets → observe diagnostic pattern shifts  
- **Anemia 2×2 Pattern Game**  
  - Axes: MCV vs Retic count, or RDW vs MCHC  
- **Leukemia Classifier Simulator**  
  - Inputs: morphology + flow markers + molecular mutations  
  - Outputs: narrowed differential with mechanism map  
- **Coagulation Pattern Playground**  
  - Adjust PT/PTT, fibrinogen, D-dimer → classify into classic coagulation profiles  
- **Flow Cytometry Builder**  
  - Choose lineage markers → watch algorithm shift (e.g., CD34+, CD117+, MPO+)  
- **Molecular Panel Explorer**  
  - Add/remove mutations (JAK2, CALR, FLT3-ITD, NPM1, SF3B1) → see pathway & phenotype predictions

For **each interactive**, specify:
- purpose  
- inputs  
- outputs  
- visual metaphors  
- preset clinical cases  
- physiologic/pathologic guardrails

---

## **5. Assessment & Mastery**
Include item types:
- Smear morphology MCQs  
- “Reactive vs neoplastic?” classification items  
- CBC pattern interpretation  
- Coagulation case analysis  
- Flow cytometry panel interpretation  
- Mutation pattern logic  
- Mini-case hemepath workups  
- Drag-and-drop morphology labeling  
Provide **10–20 items** with rationales.

---

## **6. Diagnostic & Clinical Reasoning Framework**
Explain:
1. **Morphology → first hypothesis**  
2. **CBC correlation**  
3. **Flow cytometry lineage & clonality assessment**  
4. **Coagulation patterns & bleeding/thrombosis risk**  
5. **Molecular mutation interpretation**  
6. **Integrated differential & classification**  
7. **Management implications (e.g., tyrosine kinase inhibitors, transfusion thresholds, anticoagulation considerations)**

Include pitfalls:
- Pseudothrombocytopenia  
- Spurious macrocytosis  
- False leukocytosis  
- Plasma-dilution effects  
- Smear artifacts  
- Misleading flow patterns (e.g., dim CD34, aberrant MPO)

---

## **7. Accessibility & Safety**
- WCAG 2.2 AA compliance  
- De-identified synthetic smear images  
- Safe molecular interpretation disclaimers  
- Align with WHO & CAP hematologic guidelines  
- Ensure no contradictions across CBC, smear, and molecular logic

---

## **8. Tech Architecture (Mobile-First, Offline)**
- React/TypeScript  
- Tailwind + shadcn/ui  
- IndexedDB + Service Worker for offline smear images/cases  
- Rendering for smear pseudo-images (Canvas/SVG)  
- Data layers: CBC, flow, coag, molecular, morphology  
- State management via Zustand/Redux  
- Error boundaries & logic validators

---

## **9. Data Schemas (JSON)**
Schemas for:
- morphology cell types  
- CBC values  
- coagulation parameters  
- flow markers  
- molecular variants  
- integrated cases  
- glossary  
- pattern maps  
Include examples and field definitions.

---

## **10. Screen Specs & Wireframes**
Screens:
- Home  
- Normal Smear Foundations  
- CBC Patterns  
- Coagulation Profiles  
- Flow Cytometry Viewer  
- Molecular Dashboard  
- Interactive Case Engine  
- 2×2 Pattern Game  
- Assessment  
- Glossary  
- Settings  

Provide a text-based wireframe for each.

---

## **11. Copy & Content Kit**
Include:
- Microcopy: hints, tooltips, smear descriptors, flow marker explanations  
- Glossary entries: cell types, mutations, flow markers, coag pathway parts  
- Diagram labels  
- Two sample lessons + one fully integrated case

---

## **12. Analytics & A/B Plan**
UI-only experiments:
- Smear zoom control styles  
- CBC graph interaction modes  
- Flow panel builder layouts  
**Do not include** statistical hypothesis-testing content.

---

## **13. QA Checklist**
- Morphology accuracy against standard atlases  
- CBC/molecular/coagulation consistency checks  
- Cross-module logic alignment  
- WHO classification alignment  
- Unit/reference range validation  
- Internal contradiction checks (e.g., smear doesn’t match CBC)

---

## **14. Roadmap**
Prototype → Pilot → Expansion → MPN/MDS Deep Dive → Personalized Adaptive Cases  
Include stages, acceptance criteria, risks, and dependencies.

---

# **Style & Rigor Requirements**
- High-yield clarity like Pathoma, but hemepath-level rigor  
- Use consistent terminology (WHO, CAP)  
- Avoid unrelated topics  
- Provide normal → abnormal progression  
- State all assumptions and avoid contradictions across morphology, CBC, and molecular pathways

---

# **Acceptance Criteria**
- Learner can recognize smear patterns and correlate them with CBC, flow, coag, and molecular findings  
- Outputs reflect real hematopathology without contradictions  
- All modules reinforce the unified **HemeBench Systems Map**

---

# **Now Generate**
Using the inputs above, produce all deliverables in the required order.  
If any inputs are missing, make hematopathology-sound assumptions and label them as defaults.
